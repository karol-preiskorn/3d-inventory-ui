<div class="container-fluid">
  <h3><i class="bi bi-motherboard"></i> Edit Model</h3>
  <form [formGroup]="editModelForm" (ngSubmit)="submitForm()" class="needs-validation" novalidate>
    <div class="row">
      <div class="col">
        <div class="form-group mb-2">
          <label for="form-id" class="form-label">Id</label>
          <input type="text" readonly formControlName="id" id="form-id" class="form-control mb-2" [maxLength]="36"
            [ngClass]="{
              'is-invalid': editModelForm.get('id')?.status !== 'VALID',
              'is-valid': editModelForm.get('id')?.status === 'VALID',
            }" />
          @if (editModelForm.get('id')?.errors) {
          <div class="invalid-feedback">
            @if (editModelForm.controls.id.errors?.required || editModelForm.controls.id.errors?.minlength) {
            <div>
              Id is required and must be at least 4 characters
            </div>
            }
          </div>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-group mb-3">
          <label for="name" class="form-label">Name</label>
          <input minlength="4" id="name" type="text" placeholder="Model's name" aria-label="name"
            [formControlName]="'name'" required maxlength="255" class="form-control" [ngClass]="{
              'is-invalid': editModelForm.get('name')?.status !== 'VALID',
              'is-valid': editModelForm.get('name')?.status === 'VALID',
            }" />
          @if (editModelForm.get('name')?.errors) {
          <div class="invalid-feedback">
            @if (editModelForm.controls.name.errors?.required || editModelForm.controls.name.errors?.minlength) {
            <div>
              Name is required and must be at least 4 characters
            </div>
            }
          </div>
          }
        </div>
      </div>
    </div>
    <div class="row" formGroupName="dimension">
      <div class="col">
        <div class="form-group mb-3">
          <label for="width" class="form-label">Width</label>
          <input class="form-control" type="number" formControlName="width" id="width" minlength="1" maxlength="6"
            required [ngClass]="{
              'is-invalid': editModelForm.get('dimension.width')?.status !== 'VALID',
              'is-valid': editModelForm.get('dimension.width')?.status === 'VALID',
            }" />
          @if (editModelForm.get('dimension.width')?.errors) {
          <div class="invalid-feedback">
            @if (editModelForm.get('dimension.width')?.errors?.required ||
            editModelForm.get('dimension.width')?.errors?.minlength) {
            <div>Width is required and must be at least 1 number</div>
            }
            @if (editModelForm.get('dimension.width')?.errors?.maxlength) {
            <div>Width must be less than 6 numbers</div>
            }
          </div>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-group mb-3">
          <label for="height" class="form-label">Height</label>
          <input class="form-control" type="number" formControlName="height" id="height" minlength="1"
            maxlength="6" required [ngClass]="{
              'is-invalid': editModelForm.get('dimension.height')?.status !== 'VALID',
              'is-valid': editModelForm.get('dimension.height')?.status === 'VALID',
            }" />
          @if (editModelForm.get('dimension.height')?.errors) {
          <div class="invalid-feedback">
            @if (
            editModelForm.get('dimension.height')?.errors?.required ||
            editModelForm.get('dimension.height')?.errors?.minlength
            ) {
            <div>
              Height is required and must be at least 1 number
            </div>
            }
            @if (editModelForm.get('dimension.height')?.errors?.maxlength) {
            <div>
              Height must be less than 6 numbers
            </div>
            }
          </div>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-group mb-3">
          <label for="depth" class="form-label">Depth</label>
          <input class="form-control" type="number" formControlName="depth" id="depth" minlength="1" maxlength="4"
            required [ngClass]="{
              'is-invalid': editModelForm.get('dimension.depth')?.status !== 'VALID',
              'is-valid': editModelForm.get('dimension.depth')?.status === 'VALID',
            }" />

          @if (editModelForm.get('dimension.depth')?.errors) {
          <div class="invalid-feedback">
            @if (
            editModelForm.get('dimension.depth')?.errors?.required ||
            editModelForm.get('dimension.depth')?.errors?.minlength
            ) {
            <div>
              Depth is required and must be at least 1 number
            </div>
            }
            @if (editModelForm.get('dimension.depth')?.errors?.maxlength) {
            <div>Depth must be less than 4 numbers
            </div>
            }
          </div>
          }
        </div>
      </div>
    </div>
    <div class="row" formGroupName="texture">
      <div class="col">
        <div class="form-group mb-2">
          <label for="front" class="form-label">Front</label>
          <input class="form-control" type="text" formControlName="front" id="front" [ngClass]="{
              'is-invalid': editModelForm.get('texture.front')?.status !== 'VALID',
              'is-valid': editModelForm.get('texture.front')?.status === 'VALID',
            }" />
          @if (editModelForm.get('texture.front')?.errors) {
          <div class="invalid-feedback"></div>
          }
          @if (
          editModelForm.get('texture.front')?.errors?.required ||
          editModelForm.get('texture.front')?.errors?.minlength
          ) {
          <div>
            Front is required and must be at least 1 number
          </div>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-group mb-2">
          <label for="back" class="form-label">Back</label>
          <input class="form-control" type="text" formControlName="back" id="back" [ngClass]="{
              'is-invalid': editModelForm.get('texture.back')?.status !== 'VALID',
              'is-valid': editModelForm.get('texture.back')?.status === 'VALID',
            }" />
          @if (editModelForm.get('texture.back')?.errors) {
          <div class="invalid-feedback">
            @if (editModelForm.get('texture.back')?.errors?.minlength) {
            <div>
              Back side is required and must be at least 1 number
            </div>
            }
          </div>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-group mb-2">
          <label for="side" class="form-label">Side</label>
          <input class="form-control" type="text" formControlName="side" id="side" [ngClass]="{
              'is-invalid': editModelForm.get('texture.side')?.status !== 'VALID',
              'is-valid': editModelForm.get('texture.side')?.status === 'VALID',
            }" />
          @if (editModelForm.get('texture.side')?.errors) {
          <div class="invalid-feedback">
            @if (
            editModelForm.get('texture.side')?.errors?.required ||
            editModelForm.get('texture.side')?.errors?.minlength
            ) {
            <div>
              Side is required and must be at least 1 number
            </div>
            }
          </div>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-group mb-2">
          <label for="top" class="form-label">Top</label>
          <input class="form-control" type="text" formControlName="top" id="top" [ngClass]="{
              'is-invalid': editModelForm.get('texture.top')?.status !== 'VALID',
              'is-valid': editModelForm.get('texture.top')?.status === 'VALID',
            }" />
          @if (editModelForm.get('texture.top')?.errors) {
          <div class="invalid-feedback">
            @if (
            editModelForm.get('texture.top')?.errors?.required ||
            editModelForm.get('texture.top')?.errors?.minlength
            ) {
            <div>
              Top is required and must be at least 1 number
            </div>
            }
          </div>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-group mb-2">
          <label for="bottom" class="form-label">Bottom</label>
          <input class="form-control" type="text" formControlName="bottom" id="bottom" [ngClass]="{
              'is-invalid': editModelForm.get('texture.bottom')?.status !== 'VALID',
              'is-valid': editModelForm.get('texture.bottom')?.status === 'VALID',
            }" />
          @if (editModelForm.get('texture.bottom')?.errors) {
          <div class="invalid-feedback">
            @if (
            editModelForm.get('texture.bottom')?.errors?.required ||
            editModelForm.get('texture.bottom')?.errors?.minlength
            ) {
            <div>
              Bottom is required and must be at least 2 characters
            </div>
            }
          </div>
          }
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="d-grid gap-3 d-md-block mx-auto">
          <button type="button" [disabled]="!(editModelForm.valid && editModelForm.touched)"
            class="btn btn-primary gap-2 me-3" data-bs-toggle="button" autocomplete="off" aria-pressed="true"
            (click)="submitForm()" tooltip="Update device.">
            <i class="bi bi-floppy"></i> Update
          </button>
          <button type="button" class="btn btn-success gap-2" data-bs-toggle="button" autocomplete="off"
            aria-pressed="true" (click)="deleteForm()" tooltip="Delete device.">
            <i class="bi bi-file-earmark-minus"></i> Delete
          </button>
        </div>
      </div>
      @if (editModelForm !== null && editModelForm.valid && editModelForm.touched) {
      <div class="invalid-feedback">
        Form is valid
      </div>
      }
      <p class="valid-feedback">Form Status: {{ editModelForm.status }}.</p>
    </div>
  </form>
</div>
<app-log [component]="component" [componentName]="componentName" [isComponent]="false"></app-log>
