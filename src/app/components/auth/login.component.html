<div class="login-container">
  <div class="login-wrapper">
    <!-- Login Card -->
    <div class="login-card">
      <!-- Header -->
      <div class="login-header">
        <div class="logo-section">
          <img src="/assets/3d-inventory.svg" alt="3D Inventory" class="logo">
          <h1>3D Inventory</h1>
        </div>
        <h2>Welcome Back</h2>
        <p class="text-muted">Sign in to manage your 3D inventory system</p>
        <p class="subtitle-info">
          <i class="fas fa-users-cog"></i>
          Multiple user roles available - see accounts below
        </p>
      </div>

      <!-- Error Message -->
      <div *ngIf="error" class="alert alert-danger" role="alert">
        <i class="fas fa-exclamation-triangle"></i>
        {{ error }}
        <button type="button" class="close" aria-label="Close" (click)="clearError()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <!-- Login Form -->
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" (keypress)="onKeyPress($event)" novalidate>
        <!-- Username Field -->
        <div class="form-group">
          <label for="username">
            <i class="fas fa-user"></i>
            Username
          </label>
          <input id="username" type="text" class="form-control" [class.is-invalid]="hasFieldError('username')"
            formControlName="username" placeholder="Enter your username" autocomplete="username">
          <div *ngIf="hasFieldError('username')" class="invalid-feedback">
            {{ getFieldError('username') }}
          </div>
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <label for="password">
            <i class="fas fa-lock"></i>
            Password
            <small class="text-muted">(optional)</small>
          </label>
          <input id="password" type="password" class="form-control" [class.is-invalid]="hasFieldError('password')"
            formControlName="password" placeholder="Enter your password" autocomplete="current-password">
          <div *ngIf="hasFieldError('password')" class="invalid-feedback">
            {{ getFieldError('password') }}
          </div>
          <small class="form-text text-muted">
            Currently, only username is required for authentication.
          </small>
        </div>

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary btn-block login-btn"
          [disabled]="loading || loginForm.invalid">
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-2" role="status">
            <span class="sr-only">Signing in...</span>
          </span>
          <i *ngIf="!loading" class="fas fa-sign-in-alt mr-2"></i>
          {{ loading ? 'Signing In...' : 'Sign In' }}
        </button>
      </form>

      <!-- Additional Info -->
      <div class="login-footer">
        <div class="demo-info">
          <div class="demo-header">
            <i class="fas fa-info-circle"></i>
            <strong>Available Test Accounts</strong>
          </div>

          <div class="demo-accounts">
            <!-- Administrator Account -->
            <div class="account-item admin-account">
              <div class="account-header">
                <i class="fas fa-user-shield"></i>
                <strong>Administrator</strong>
              </div>
              <div class="account-details">
                <div class="credential">
                  <span class="label">Username:</span>
                  <code>admin</code>
                </div>
                <div class="credential">
                  <span class="label">Password:</span>
                  <code>admin123!</code>
                </div>
                <div class="permissions">
                  <small class="text-muted">
                    <i class="fas fa-check-circle"></i> Full system access (28 permissions)
                  </small>
                </div>
              </div>
            </div>

            <!-- Normal User Accounts -->
            <div class="account-item user-account">
              <div class="account-header">
                <i class="fas fa-user"></i>
                <strong>Normal Users</strong>
              </div>
              <div class="account-details">
                <div class="user-option">
                  <div class="credential">
                    <span class="label">Username:</span>
                    <code>user</code> or <code>carlo</code>
                  </div>
                  <div class="credential">
                    <span class="label">Password:</span>
                    <code>user123!</code> or <code>carlo123!</code>
                  </div>
                </div>
                <div class="permissions">
                  <small class="text-muted">
                    <i class="fas fa-edit"></i> Can view and edit most data (12 permissions)
                  </small>
                </div>
              </div>
            </div>

            <!-- Viewer Account -->
            <div class="account-item viewer-account">
              <div class="account-header">
                <i class="fas fa-eye"></i>
                <strong>Viewer (Read-Only)</strong>
              </div>
              <div class="account-details">
                <div class="credential">
                  <span class="label">Username:</span>
                  <code>viewer</code>
                </div>
                <div class="credential">
                  <span class="label">Password:</span>
                  <code>viewer123!</code>
                </div>
                <div class="permissions">
                  <small class="text-muted">
                    <i class="fas fa-book-reader"></i> Read-only access (7 permissions)
                  </small>
                </div>
              </div>
            </div>
          </div>

          <div class="account-note">
            <small class="text-muted">
              <i class="fas fa-lightbulb"></i>
              <strong>Tip:</strong> Different roles have different menu options and permissions
            </small>
          </div>
        </div>

        <div class="links">
          <button type="button" class="btn btn-link btn-sm" (click)="goToHome()">
            <i class="fas fa-home"></i> Back to Home
          </button>
        </div>
      </div>
    </div>

    <!-- Features -->
    <div class="features-section">
      <h3>Admin Features</h3>
      <div class="feature-list">
        <div class="feature-item">
          <i class="fas fa-users"></i>
          <div>
            <h5>User Management</h5>
            <p>Manage users, roles, and permissions</p>
          </div>
        </div>
        <div class="feature-item">
          <i class="fas fa-cube"></i>
          <div>
            <h5>3D Inventory</h5>
            <p>Visualize and manage inventory in 3D space</p>
          </div>
        </div>
        <div class="feature-item">
          <i class="fas fa-network-wired"></i>
          <div>
            <h5>Device Connections</h5>
            <p>Track device relationships and connections</p>
          </div>
        </div>
        <div class="feature-item">
          <i class="fas fa-chart-bar"></i>
          <div>
            <h5>Analytics</h5>
            <p>Monitor system usage and performance</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Background -->
  <div class="login-background">
    <div class="bg-pattern"></div>
  </div>
</div>
